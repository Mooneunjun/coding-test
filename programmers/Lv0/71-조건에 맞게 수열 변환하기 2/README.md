> [조건에 맞게 수열 변환하기 2](https://school.programmers.co.kr/learn/courses/30/lessons/181881)

### **문제 설명**

정수 배열 `arr`가 주어집니다. `arr`의 각 원소에 대해 값이 50보다 크거나 같은 짝수라면 2로 나누고, 50보다 작은 홀수라면 2를 곱하고 다시 1을 더합니다.

이러한 작업을 `x`번 반복한 결과인 배열을 `arr(x)`라고 표현했을 때, `arr(x) = arr(x + 1)`인 `x`가 항상 존재합니다. 이러한 `x` 중 가장 작은 값을 return 하는 solution 함수를 완성해 주세요.

단, 두 배열에 대한 "="는 두 배열의 크기가 서로 같으며, 같은 인덱스의 원소가 각각 서로 같음을 의미합니다.

---

### 제한사항

- 1 ≤ `arr`의 길이 ≤ 1,000,000
  - 1 ≤ `arr`의 원소의 값 ≤ 100

---

### 입출력 예

| arr                    | result |
| ---------------------- | ------ |
| [1, 2, 3, 100, 99, 98] | 5      |

---

### 입출력 예 설명

입출력 예 #1

- 위 작업을 반복하면 다음과 같이 `arr`가 변합니다.

| 반복 횟수 | arr                     |
| --------- | ----------------------- |
| 0         | [1, 2, 3, 100, 99, 98]  |
| 1         | [3, 2, 7, 50, 99, 49]   |
| 2         | [7, 2, 15, 25, 99, 99]  |
| 3         | [15, 2, 31, 51, 99, 99] |
| 4         | [31, 2, 63, 51, 99, 99] |
| 5         | [63, 2, 63, 51, 99, 99] |
| 6         | [63, 2, 63, 51, 99, 99] |

- 이후로 `arr`가 변하지 않으며, `arr(5) = arr(6)`이므로 5를 return 합니다.

---

```jsx
function solution(arr) {
  let x = 0; // 작업 반복 횟수를 저장하는 변수

  while (true) {
    const nextArr = arr.map((v) =>
      v >= 50 && v % 2 === 0 ? v / 2 : v < 50 && v % 2 !== 0 ? v * 2 + 1 : v
    ); // 조건에 따라 배열 변환

    if (arr.join(",") === nextArr.join(",")) {
      break; // 현재 배열과 변환된 배열이 동일하면 종료
    }

    arr = nextArr; // 변환된 배열로 업데이트
    x++; // 반복 횟수 증가
  }

  return x; // 변환이 멈춘 시점의 반복 횟수 반환
}
```

---

### 코드설명

1. **초기화**:
   - `x`: 작업 반복 횟수를 저장하며, 초기값은 `0`입니다.
2. **`while` 루프**:
   - 배열이 변하지 않을 때까지 반복 작업을 수행합니다.
   - 각 반복마다 `arr`를 조건에 따라 변환한 새로운 배열 `nextArr`를 생성합니다.
3. **배열 변환**:
   - `arr.map()`을 사용하여 조건에 따라 배열의 각 원소를 변환합니다:
     - `v >= 50 && v % 2 === 0`: 50 이상이면서 짝수인 경우, `v / 2`.
     - `v < 50 && v % 2 !== 0`: 50 미만이면서 홀수인 경우, `v * 2 + 1`.
     - 나머지 값은 그대로 유지.
4. **종료 조건**:
   - `arr`와 `nextArr`가 같아질 때 (`arr.join(',') === nextArr.join(',')`) 반복을 종료합니다.
   - 배열을 비교할 때는 원소 순서를 고려하기 위해 문자열로 변환한 뒤 비교합니다.
5. **배열 업데이트**:
   - `arr`를 `nextArr`로 업데이트하여 다음 반복에서 사용할 준비를 합니다.
6. **반환값**:
   - 배열 변환이 멈춘 시점의 반복 횟수 `x`를 반환합니다.
